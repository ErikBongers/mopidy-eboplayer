* Add progressbarView to bigTrackView.

* Iris player seems to have a way to get all the tracks really fast.
  > but cannot add radio strams (with names) to playlists.
  > also only possible to add a track to a list via the "now playing" screen.


* Track line: ellipsis button:
  - Play
  - Details
    > shows artist, album and tracklists this track belongs to.

* Webcomponent with template: https://css-tricks.com/web-components-are-easier-than-you-think/

* Implement start screen.
  > if no current track:
    > get history.
      > if none: (probably!)
        > show Browser in that case.
      > if found, display it, positioned at last track.
  > if current track:
    > it will probably be shown automatically, but also start playing automatically...which may not be a bad thing...

* when a new track is played (default click on play button), these commands are sent:
  - play is stopped. (needed? or automatically done when clearinngg the tracklist?)
  - the tracklist is cleared.
  - new track is added to the tracklist
  - tracklist filter is cleared.
  >> event:tracklistchanged is sent.
  > that's it!
    > query:
      - tracklist
      - current track (TLtrack

Layout
=========

Start screen always last track/stream.
  > what if there is no last track?
  > A user will want to select something to play.
    > Goto Search and show history, if present.
  > All lists will highlight the active (if any) track/album,...
When playing a track of an album, artist, playlist:
  > user shoud be able to go to the list.
  > if the window is long (or wide) enough, show the list, centered around the active track.
  > user can hide this list to have a cleaner view.
    > need a button to show the list.
      > icon? a hamburger with 4 lines and a brighter line in the middle?

 When a track is playing, a mini-player should be displayed at the bottom (or top?).
 Volume, plus a mute button should always be visible.
 Playback options should be under a menu, as they are not often used.

Per track or list:
   > highlight the active one.
   > a play button to immediately start playing.
   > a menu for all the other actions.

Search button is entrypoint to all lists of tracks
  - history (this one on top or even expanded, if present)
  - streams
  - files
  - albums
  - artists

Have a stream title history as well. Per radio station?
Stream title history has max of 100 items?

* On stream start, and extension start: clear history or at least write a dummy history block:
      ---
      Starting stream xxx
      ---
  > not needed on extension start, if on stream start creates a separator.

* Replace Home pane with last played..
  > perhaps merge this pane with Now Playing?
* get rid of jQuery
* flex or grid?
* setVolume(): use a curved function for better low volume control.
  > User option?
  > For both input and output in range [0..100]:
    > Quadratic: (x*x)/100
    > Cubic: (x*x*x)/10000


* "Streams" are mopidy playlists.
  > has 2 fields: name and uri
  > if uri starts with file: or http:, a different backend is triggered.


  Track info for streams or files
  ---------------------------------
  Streams
  -------
  {
    "tl_track": {
      "__model__": "TlTrack",
      "tlid": 1,
      "track": {
        "__model__": "Track",
        "uri": "http://icecast.vrtcdn.be/klara-high.mp3",
        "name": "VRT Klara"
      }
    },
    "event": "track_playback_started"
  }

  Files
  -----
  {
    "tl_track": {
      "__model__": "TlTrack",
      "tlid": 2,
      "track": {
        "__model__": "Track",
        "uri": "file:///media/DATA1/Music/Air/Moon%20Safari/01%20La%20Femme%20d%27Argent.wma",
        "name": "La Femme d'Argent",
        "artists": [
          {
            "__model__": "Artist",
            "name": "Air"
          }
        ],
        "album": {
          "__model__": "Album",
          "name": "Moon Safari",
          "date": "1998"
        },
        "track_no": 1,
        "date": "1998",
        "length": 429986,
        "bitrate": 128639
      }
    },
    "event": "track_playback_started"
  }
